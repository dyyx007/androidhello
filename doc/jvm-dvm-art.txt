
Android在4.2之前的虚拟机叫做 DVM

在4.2的时候多了一个虚拟机选择，这是新的虚拟机 ART。Android Runingtime

那时ART还不够成熟，需要测试，所以默认虚拟机是DVM。国内的ROM厂商直接把ART给割了。

Android5.0起，默认使用ART虚拟机，删掉了DVM。



两者的功能是一样的，都是将.class文件转为机器码执行程序。

区别之处在于： 将.class文件转为机器码的时候。


Dalvik和JVM的几点区别
Dalvik 基于寄存器，而 JVM 基于栈。基于寄存器的虚拟机对于更大的程序来说，在它们编译的时候，花费的时间更短。

Dalvik主要是完成对象生命周期管理，堆栈管理，线程管理，安全和异常管理，以及垃圾回收等等重要功能。

Dalvik负责进程隔离和线程管理，每一个Android应用在底层都会对应一个独立的Dalvik虚拟机实例，其代码在虚拟机的解释下得以执行。
不同于Java虚拟机运行java字节码，Dalvik虚拟机运行的是其专有的文件格式Dex，ex文件格式可以减少整体文件尺寸，提高I/o操作的类查找速度。

所有的Android应用的线程都对应一个Linux进程，虚拟机因而可以更多的依赖操作系统的线程调度和管理机制，DVM指dalivk的虚拟机。
每一个Android应用程序都在它自己的进程中运行，都拥有一个独立的Dalvik虚拟机实例。
而每一个DVM都是在Linux 中的一个进程



Dalvik和ART的几点区别
dalvik是执行的时候编译+运行，安装比较快，开启应用比较慢，应用占用空间小
ART是安装的时候就编译好了，执行的时候直接就可以运行的，安装慢，开启应用快，占用空间大

用个比喻来说就是，骑自行车

dalvik 是已经折叠起来的自行车，每次骑都要先组装自行车才能骑
ART 是已经组装好的自行车，每次骑直接上车就能走人


